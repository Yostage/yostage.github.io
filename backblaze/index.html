<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backblaze Drive Stats Visualization</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1>Backblaze Hard Drive Statistics</h1>
        <p>Quarterly snapshots from 2013-2025 | Data via <a href="https://www.backblaze.com/cloud-storage/resources/hard-drive-test-data">Backblaze Drive Stats</a></p>
        <div id="date-range-picker">
            <label>Date Range:
                <select id="start-quarter"></select>
                <span> to </span>
                <select id="end-quarter"></select>
            </label>
        </div>
    </header>

    <main>
        <section id="fleet-growth">
            <h2>Fleet Growth Over Time</h2>
            <div id="chart-fleet" class="chart"></div>
        </section>

        <section id="manufacturers">
            <h2>Manufacturer Share</h2>
            <div class="chart-controls">
                <label>
                    <input type="radio" name="mfr-metric" value="drives" checked> Drive Count
                </label>
                <label>
                    <input type="radio" name="mfr-metric" value="pb"> Petabytes
                </label>
            </div>
            <div id="chart-manufacturers" class="chart"></div>
        </section>

        <section id="drive-size">
            <h2>Median Drive Size Trend</h2>
            <div class="chart-controls">
                <label>
                    <input type="checkbox" id="drive-size-by-mfr"> Show by manufacturer
                </label>
            </div>
            <div id="chart-drive-size" class="chart"></div>
        </section>

        <section id="top-models">
            <h2>Top Drive Models</h2>
            <div class="chart-controls">
                <label>Quarter: <span id="models-quarter-label"></span></label>
                <input type="range" id="models-quarter-slider" min="0" max="0" value="0">
            </div>
            <div id="chart-models" class="chart"></div>
        </section>

        <section id="reliability-bubble">
            <h2>Annualized Failure Rate by Manufacturer</h2>
            <p class="chart-subtitle">Size = drive count, Color = AFR % (calculated from drive-days)</p>
            <div id="chart-reliability-bubble" class="chart"></div>
        </section>

    </main>

    <footer>
        <p>Data source: Backblaze Hard Drive Test Data (Apache Iceberg)</p>
    </footer>

    <script src="js/charts.js"></script>
</body>
</html>
